function gHelper(){}function gIcon(){}function gUI(){}function game(){}CanvasRenderingContext2D.prototype.roundRect=function(e,a,t,n,g,o,i){var l={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0};if(void 0===i&&(i=!0),"object"==typeof g)for(var r in g)l[r]=g[r];this.beginPath(),this.moveTo(e+l.upperLeft,a),this.lineTo(e+t-l.upperRight,a),this.quadraticCurveTo(e+t,a,e+t,a+l.upperRight),this.lineTo(e+t,a+n-l.lowerRight),this.quadraticCurveTo(e+t,a+n,e+t-l.lowerRight,a+n),this.lineTo(e+l.lowerLeft,a+n),this.quadraticCurveTo(e,a+n,e,a+n-l.lowerLeft),this.lineTo(e,a+l.upperLeft),this.quadraticCurveTo(e,a,e+l.upperLeft,a),this.closePath(),i&&this.stroke(),o&&this.fill()},gHelper.RandomRange=function(e,a){return game.random()*(a-e)+e},gHelper.xmur3=function(e){for(var a=0,t=1779033703^e.length;a<e.length;a++)t=(t=Math.imul(t^e.charCodeAt(a),3432918353))<<13|t>>>19;return function(){return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}},gHelper.sfc32=function(a,t,n,g){return function(){var e=(a>>>=0)+(t>>>=0)|0;return a=t^t>>>9,t=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(e=e+(g=(g>>>=0)+1|0)|0)|0,(e>>>0)/4294967296}},gHelper.mulberry32=function(a){return function(){var e=a+=1831565813,e=Math.imul(e^e>>>15,1|e);return(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}},gHelper.Pascals=function(e){if(0===e)return[];if(1===e)return[[1]];let n=[];for(let t=1;t<=e;t++){let a=[];for(let e=0;e<t;e++)0===e||e===t-1?a.push(1):a.push(n[t-2][e-1]+n[t-2][e]);n.push(a)}return n},gHelper.RandomString=function(a){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let e=0;e<a;e++)n+=t[Math.floor(Math.random()*t.length)];return n},gHelper.Clamp=function(e,a,t){return Math.min(Math.max(e,a),t)},gIcon.game="",gIcon.lightbulbOn='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 19h-4c-.276 0-.5.224-.5.5s.224.5.5.5h4c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm0 2h-4c-.276 0-.5.224-.5.5s.224.5.5.5h4c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm.25 2h-4.5l1.188.782c.154.138.38.218.615.218h.895c.234 0 .461-.08.615-.218l1.187-.782zm3.75-13.799c0 3.569-3.214 5.983-3.214 8.799h-1.989c-.003-1.858.87-3.389 1.721-4.867.761-1.325 1.482-2.577 1.482-3.932 0-2.592-2.075-3.772-4.003-3.772-1.925 0-3.997 1.18-3.997 3.772 0 1.355.721 2.607 1.482 3.932.851 1.478 1.725 3.009 1.72 4.867h-1.988c0-2.816-3.214-5.23-3.214-8.799 0-3.723 2.998-5.772 5.997-5.772 3.001 0 6.003 2.051 6.003 5.772zm4-.691v1.372h-2.538c.02-.223.038-.448.038-.681 0-.237-.017-.464-.035-.69h2.535zm-10.648-6.553v-1.957h1.371v1.964c-.242-.022-.484-.035-.726-.035-.215 0-.43.01-.645.028zm-3.743 1.294l-1.04-1.94 1.208-.648 1.037 1.933c-.418.181-.822.401-1.205.655zm10.586 1.735l1.942-1.394.799 1.115-2.054 1.473c-.191-.43-.423-.827-.687-1.194zm-3.01-2.389l1.038-1.934 1.208.648-1.041 1.941c-.382-.254-.786-.473-1.205-.655zm-10.068 3.583l-2.054-1.472.799-1.115 1.942 1.393c-.264.366-.495.763-.687 1.194zm13.707 6.223l2.354.954-.514 1.271-2.425-.982c.21-.397.408-.812.585-1.243zm-13.108 1.155l-2.356 1.06-.562-1.251 2.34-1.052c.173.433.371.845.578 1.243zm-1.178-3.676h-2.538v-1.372h2.535c-.018.226-.035.454-.035.691 0 .233.018.458.038.681z"/></svg>',gIcon.lightbulbOff='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.741 17h-1.991c0-.17-.016-.338-.035-.506l1.703-1.548c.197.653.323 1.332.323 2.054zm-.04 6.659c.19.216.465.341.753.341h1.093c.288 0 .562-.125.752-.341l1.451-1.659h-5.5l1.451 1.659zm3.799-3.659h-5c-.276 0-.5.224-.5.5s.224.5.5.5h5c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm0-2h-5c-.276 0-.5.224-.5.5s.224.5.5.5h5c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm1.707-8.315c-1.104 2.28-2.948 4.483-2.949 7.315h1.992c0-3.169 3.479-5.906 3.726-9.832l-2.769 2.517zm6.793-8.201l-20.654 18.75-1.346-1.5 6.333-5.728c-1.062-1.873-2.333-3.843-2.333-6.272 0-4.343 3.498-6.734 6.996-6.734 2.408 0 4.798 1.146 6.064 3.267l3.598-3.267 1.342 1.484zm-14.147 10.142l7.676-6.969c-.833-1.742-2.682-2.657-4.533-2.657-2.483 0-4.996 1.626-4.996 4.734 0 1.713.907 3.246 1.853 4.892z"/></svg>',gIcon.close='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm4.151 17.943l-4.143-4.102-4.117 4.159-1.833-1.833 4.104-4.157-4.162-4.119 1.833-1.833 4.155 4.102 4.106-4.16 1.849 1.849-4.1 4.141 4.157 4.104-1.849 1.849z"/></svg>',gIcon.sound='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M5 17h-5v-10h5v10zm2-10v10l9 5v-20l-9 5zm11.008 2.093c.742.743 1.2 1.77 1.198 2.903-.002 1.133-.462 2.158-1.205 2.9l1.219 1.223c1.057-1.053 1.712-2.511 1.715-4.121.002-1.611-.648-3.068-1.702-4.125l-1.225 1.22zm2.142-2.135c1.288 1.292 2.082 3.073 2.079 5.041s-.804 3.75-2.096 5.039l1.25 1.254c1.612-1.608 2.613-3.834 2.616-6.291.005-2.457-.986-4.681-2.595-6.293l-1.254 1.25z"/></svg>',gIcon.help='<svg xmlns="http://www.w3.org/2000/svg" fill="#FFF" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 18.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25s-.559 1.25-1.25 1.25zm1.961-5.928c-.904.975-.947 1.514-.935 2.178h-2.005c-.007-1.475.02-2.125 1.431-3.468.573-.544 1.025-.975.962-1.821-.058-.805-.73-1.226-1.365-1.226-.709 0-1.538.527-1.538 2.013h-2.01c0-2.4 1.409-3.95 3.59-3.95 1.036 0 1.942.339 2.55.955.57.578.865 1.372.854 2.298-.016 1.383-.857 2.291-1.534 3.021z"/></svg>',gIcon.menu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#FFF"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 17h-12v-2h12v2zm0-4h-12v-2h12v2zm0-4h-12v-2h12v2z"/></svg>',gIcon.money='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 16.166c0-4.289-4.465-5.483-7.887-7.091-2.079-1.079-1.816-3.658 1.162-3.832 1.652-.1 3.351.39 4.886.929l.724-3.295c-1.814-.551-3.437-.803-4.885-.841v-2.036h-2v2.134c-3.89.535-5.968 2.975-5.968 5.7 0 4.876 5.693 5.62 7.556 6.487 2.54 1.136 2.07 3.5-.229 4.021-1.993.451-4.538-.337-6.45-1.079l-.909 3.288c1.787.923 3.931 1.417 6 1.453v1.996h2v-2.105c3.313-.464 6.005-2.293 6-5.729z"/></svg>',gIcon.star='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/></svg>',gIcon.minus='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 9h24v6h-24z"/></svg>',gIcon.plus='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 9h-9v-9h-6v9h-9v6h9v9h6v-9h9z"/></svg>',gIcon.down='<svg class="lower" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 17l-6-8h12l-6 8z"/></svg>',gIcon.up='<svg class="higher" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12zm0-17l6 8h-12l6-8z"/></svg>',gUI.Init=function(e){game.config.darkMode?game.gameContainer.classList.add("dark"):game.gameContainer.classList.remove("dark"),gUI.appbar=gUI.Row("g-appbar"),e.appendChild(gUI.appbar),gUI.appbarTitle=gUI.Col("g-appbar-title"),gUI.appbar.appendChild(gUI.appbarTitle),gUI.appbarMenu=gUI.Col("g-appbar-menu"),gUI.appbar.appendChild(gUI.appbarMenu),gUI.container=gUI.Row("g-game-container"),e.appendChild(gUI.container),gUI.background=gUI.Div("g-background"),gUI.container.appendChild(gUI.background),gUI.background.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="1440" height="250" preserveAspectRatio="none" viewBox="0 0 1440 250"><g mask="url(&quot;#SvgjsMask1424&quot;)" fill="none"><rect width="1440" height="250" x="0" y="0" fill="rgba(254, 254, 255, 0)"></rect><path d="M42 250L292 0L610 0L360 250z" fill="url(#SvgjsLinearGradient1425)"></path><path d="M238.60000000000002 250L488.6 0L602.6 0L352.6 250z" fill="url(#SvgjsLinearGradient1425)"></path><path d="M496.20000000000005 250L746.2 0L840.7 0L590.7 250z" fill="url(#SvgjsLinearGradient1425)"></path><path d="M756.8000000000001 250L1006.8000000000001 0L1344.3000000000002 0L1094.3000000000002 250z" fill="url(#SvgjsLinearGradient1425)"></path><path d="M1438 250L1188 0L946.5 0L1196.5 250z" fill="url(#SvgjsLinearGradient1426)"></path><path d="M1199.4 250L949.4000000000001 0L796.4000000000001 0L1046.4 250z" fill="url(#SvgjsLinearGradient1426)"></path><path d="M943.8 250L693.8 0L390.79999999999995 0L640.8 250z" fill="url(#SvgjsLinearGradient1426)"></path><path d="M713.1999999999999 250L463.19999999999993 0L205.19999999999993 0L455.19999999999993 250z" fill="url(#SvgjsLinearGradient1426)"></path><path d="M1311.0099193826968 250L1440 121.00991938269689L1440 250z" fill="url(#SvgjsLinearGradient1425)"></path><path d="M0 250L128.9900806173031 250L 0 121.00991938269689z" fill="url(#SvgjsLinearGradient1426)"></path></g><defs><mask id="SvgjsMask1424"><rect width="1440" height="250" fill="#ffffff"></rect></mask><linearGradient x1="0%" y1="100%" x2="100%" y2="0%" id="SvgjsLinearGradient1425"><stop stop-color="rgba(41, 46, 57, 0.2)" offset="0"></stop><stop stop-opacity="0" stop-color="rgba(41, 46, 57, 0.2)" offset="0.66"></stop></linearGradient><linearGradient x1="100%" y1="100%" x2="0%" y2="0%" id="SvgjsLinearGradient1426"><stop stop-color="rgba(41, 46, 57, 0.2)" offset="0"></stop><stop stop-opacity="0" stop-color="rgba(41, 46, 57, 0.2)" offset="0.66"></stop></linearGradient></defs></svg>',gUI.gameFrame=gUI.Col("g-frame-game",["g-frame"]),gUI.betFrame=gUI.Col("g-frame-bet"),gUI.container.appendChild(gUI.gameFrame),gUI.container.appendChild(gUI.betFrame),gUI.betTop=gUI.Div("g-bet-top",["g-bet-container"]),gUI.betCenter=gUI.Div("g-bet-center",["g-bet-container"]),gUI.betBottom=gUI.Div("g-bet-bottom",["g-bet-container"]),gUI.betFrame.appendChild(gUI.betTop),gUI.betFrame.appendChild(gUI.betCenter),gUI.betFrame.appendChild(gUI.betBottom),gUI.sidebar=gUI.Div("g-sidebar"),gUI.container.appendChild(gUI.sidebar),gUI.sidebarMenu=document.createElement("div"),gUI.sidebarMenu.id="g-sidebar-menu",gUI.sidebar.appendChild(gUI.sidebarMenu),gUI.InitAppBar(),gUI.InitSidebar(),gUI.InitBetForm(),gUI.InitBetButtons(),gUI.InitModal()},gUI.InitModal=function(){gUI.modalContainer=gUI.Div("g-modal-container"),game.gameContainer.appendChild(gUI.modalContainer),gUI.modal=gUI.Div("g-modal"),gUI.modalContainer.appendChild(gUI.modal),gUI.modalHeader=gUI.Div("g-modal-header"),gUI.modal.appendChild(gUI.modalHeader),gUI.modalTitle=gUI.Div("g-modal-title"),gUI.modalHeader.appendChild(gUI.modalTitle),gUI.modalClose=gUI.Div("g-modal-close"),gUI.modalClose.innerHTML=gIcon.close,gUI.modalHeader.appendChild(gUI.modalClose),gUI.modalClose.onclick=gUI.HideModal,gUI.modalBody=gUI.Div("g-modal-body-container"),gUI.modal.appendChild(gUI.modalBody),gUI.modalContent=gUI.Div("g-modal-content"),gUI.modalBody.appendChild(gUI.modalContent),gUI.modalFooter=gUI.Div("g-modal-footer"),gUI.modal.appendChild(gUI.modalFooter)},gUI.InitAppBar=function(){var e=gUI.Div("g-appbar-money-icon");e.innerHTML=gIcon.money,gUI.appbarTitle.appendChild(e),gUI.balance=gUI.Div("g-appbar-money"),gUI.balance.innerHTML=game.config.currencySymbol+game.player.balance,gUI.appbarTitle.appendChild(gUI.balance),gUI.appbarCheckout=gUI.Div("g-appbar-checkout"),gUI.appbarTitle.appendChild(gUI.appbarCheckout);e=gUI.Div("g-appbar-checkout-fade");gUI.appbarCheckout.appendChild(e),gUI.darkModeButton=gUI.Btn(game.config.darkMode?gIcon.lightbulbOff:gIcon.lightbulbOn,()=>{game.PlaySound(game.sounds.select),gUI.ToggleDarkMode(),game.ToggleDarkMode()}),gUI.appbarMenu.appendChild(gUI.darkModeButton);e=gUI.Btn(gIcon.help,()=>{game.PlaySound(game.sounds.select),gUI.ShowModal(game._("modal.how_to_play.title"),game._("modal.how_to_play.content"),[gUI.BtnPrimary(game._("generic.okay"),gUI.HideModal)])});gUI.appbarMenu.appendChild(e);e=gUI.Btn(gIcon.menu,()=>{gUI.sidebar.classList.toggle("active"),game.PlaySound(game.sounds.whoosh)});gUI.appbarMenu.appendChild(e)},gUI.InitSidebar=function(){gUI.AddSidebarOption(gIcon.sound,"Sound",()=>{game.PlaySound(game.sounds.select),game.config.sound=!game.config.sound},!0,game.config.sound),gUI.AddSidebarOption(gIcon.help,"How to Play",()=>{game.PlaySound(game.sounds.select),gUI.ShowModal(game._("modal.how_to_play.title"),game._("modal.how_to_play.content"),[gUI.BtnPrimary(game._("generic.okay"),gUI.HideModal)])},!1,!1)},gUI.InitBetForm=function(){var e=gUI.Row("g-bet-form",["g-frame"]);gUI.betCenter.appendChild(e);var a=gUI.Row("g-bet-amount");e.appendChild(a);var t=gUI.Col(),n=gUI.BtnRound(gIcon.minus,()=>{game.PlaySound(game.sounds.select);var e=parseFloat(gUI.betInput.querySelector("input").value);e-=game.config.betIncrement,game.SetBet(e)});t.appendChild(n),a.appendChild(t),gUI.betInput=gUI.Input("number","Bet amount",null,game.config.minBet.toFixed(2)),gUI.betInput.querySelector("input").id="g-bet-amount-input",a.appendChild(gUI.betInput),gUI.betInput.querySelector("input").addEventListener("keypress",function(e){function a(e,a){return-1<e.indexOf(a)}(1===e.key.length&&!a("0123456789.",e.key)||"."===e.key&&a(e.target.value,"."))&&e.preventDefault()}),gUI.betInput.querySelector("input").onkeyup=function(e){gUI.betBottom.classList.add("disabled"),game.inputDelay&&clearTimeout(game.inputDelay),0<gUI.betInput.querySelector("input").value.length&&(game.inputDelay=setTimeout(function(){game.SetBet(e.target.value)},1e3))};t=gUI.Col(),n=gUI.BtnRound(gIcon.plus,()=>{game.PlaySound(game.sounds.select);var e=parseFloat(gUI.betInput.querySelector("input").value);e+=game.config.betIncrement,game.SetBet(e)});t.appendChild(n),a.appendChild(t);a=gUI.Row("g-bet-shortcuts");e.appendChild(a);for(var g=[5,10,25,50],o=0;o<g.length;o++){t=gUI.Col();(n=gUI.BtnSecondary(game.config.currencySymbol+g[o],e=>{game.PlaySound(game.sounds.select);var a=parseFloat(gUI.betInput.querySelector("input").value);a+=parseFloat(e.target.value),game.SetBet(a)})).value=g[o],t.appendChild(n),a.appendChild(t)}},gUI.InitBetButtons=function(){gUI.betPins=gUI.Row("g-bet-pins",["g-frame"]),gUI.betTop.appendChild(gUI.betPins);var e=document.createElement("label");e.innerHTML=game._("form.number_of_pins"),gUI.betPins.appendChild(e);e=gUI.Row();gUI.betPins.appendChild(e),gUI.btn12=gUI.Btn("12 Low",()=>{game.PlaySound(game.sounds.select),game.SetupBoard(14)}),e.appendChild(gUI.btn12),gUI.btn12.classList.add(14===game.pinCount?"g-btn-primary":"g-btn-secondary"),gUI.btn14=gUI.Btn("14 Normal",()=>{game.PlaySound(game.sounds.select),game.SetupBoard(16)}),e.appendChild(gUI.btn14),gUI.btn14.classList.add(16===game.pinCount?"g-btn-primary":"g-btn-secondary"),gUI.btn16=gUI.Btn("16 High",()=>{game.PlaySound(game.sounds.select),game.SetupBoard(18)}),e.appendChild(gUI.btn16),gUI.btn16.classList.add(18===game.pinCount?"g-btn-primary":"g-btn-secondary");e=gUI.Row("g-bet-type",["g-frame"]);gUI.betTop.appendChild(e),gUI.betManual=gUI.Btn("Manual",()=>{game.PlaySound(game.sounds.select),gUI.ManualButtons()}),e.appendChild(gUI.betManual),gUI.betAuto=gUI.Btn("Auto",()=>{game.PlaySound(game.sounds.select),gUI.AutoButtons()}),e.appendChild(gUI.betAuto),gUI.betOptions=gUI.Div("g-bet-options"),gUI.betTop.appendChild(gUI.betOptions),gUI.ManualButtons()},gUI.ManualButtons=function(){gUI.betBottom.innerHTML="",gUI.betOptions.innerHTML="",gUI.betManual.classList.add("g-btn-primary"),gUI.betManual.classList.remove("g-btn-secondary"),gUI.betAuto.classList.remove("g-btn-primary"),gUI.betAuto.classList.add("g-btn-secondary");var e=gUI.BtnPrimary("Green",()=>{game.StartManual(0)});e.classList.add("green"),gUI.betBottom.appendChild(e);e=gUI.BtnPrimary("Yellow",()=>{game.StartManual(1)});e.classList.add("yellow"),gUI.betBottom.appendChild(e);e=gUI.BtnPrimary("Red",()=>{game.StartManual(2)});e.classList.add("red"),gUI.betBottom.appendChild(e)},gUI.AutoButtons=function(){gUI.betBottom.innerHTML="",gUI.betOptions.innerHTML="",gUI.betAuto.classList.add("g-btn-primary"),gUI.betAuto.classList.remove("g-btn-secondary"),gUI.betManual.classList.remove("g-btn-primary"),gUI.betManual.classList.add("g-btn-secondary"),gUI.autobetButton=gUI.BtnPrimary("Start Autobetting",()=>{game.StartAuto()}),gUI.betBottom.appendChild(gUI.autobetButton)},gUI.ToggleDarkMode=function(){game.config.darkMode=!game.config.darkMode,game.gameContainer.classList.toggle("dark"),gUI.darkModeButton.innerHTML=game.config.darkMode?gIcon.lightbulbOff:gIcon.lightbulbOn},gUI.ShowModal=function(e,a,t=null,n=!0){if(game.PlaySound(game.sounds.popup),(gUI.modalTitle.innerHTML=e)||n?gUI.modalHeader.classList.add("active"):gUI.modalHeader.classList.remove("active"),gUI.modalContent.innerHTML=a,null!=t){gUI.modalFooter.innerHTML="",gUI.modalFooter.classList.add("active");for(var g=0;g<t.length;g++){var o=t[g];gUI.modalFooter.appendChild(o)}}else gUI.modalFooter.classList.remove("active");n?gUI.modalClose.classList.add("active"):gUI.modalClose.classList.remove("active"),gUI.modalContainer.classList.add("active"),gUI.modal.classList.add("active")},gUI.HideModal=function(){gUI.modalContainer.classList.remove("active"),gUI.modal.classList.remove("active")},gUI.CheckoutNotification=function(e,a){var t=document.createElement("div");t.classList.add("g-appbar-notification"),t.classList.add(a),t.innerHTML="plus"==a?gIcon.plus:gIcon.minus;a=document.createElement("div");a.classList.add("g-appbar-notification-text"),a.innerText=game.config.currencySymbol+parseFloat(e).toFixed(2),t.appendChild(a),gUI.appbarCheckout.appendChild(t),gUI.RemoveOnFade(t,game.config.notificationDelay*(gUI.appbarCheckout.childElementCount-1))},gUI.Div=function(e=null,a=[],t=""){var n=document.createElement("div");return n.id=e||"",n.classList.add(...a),n.style=t,n},gUI.Row=function(e=null,a=[],t=null,n=null){var g=document.createElement("div");return g.classList.add("g-row"),g.id=e||"",g.classList.add(...a),t&&(g.style.width=t),n&&(g.style.gap=n),g},gUI.Col=function(e=null,a=[]){var t=document.createElement("div");return t.id=e||"",t.classList.add("g-col"),t.classList.add(...a),t},gUI.Input=function(e,a,t,n=""){var g=document.createElement("input");g.type=e,n&&(g.value=n),t&&(g.onchange=t);t=document.createElement("label");t.innerHTML=a;a=document.createElement("div");return a.classList.add("g-field-group"),a.appendChild(t),a.appendChild(g),a},gUI.Btn=function(e,a){var t=document.createElement("button");return t.classList.add("g-btn-default"),t.innerHTML=e,t.onclick=a,t},gUI.BtnPrimary=function(e,a){var t=document.createElement("button");return t.classList.add("g-btn-default"),t.classList.add("g-btn-primary"),t.innerHTML=e,t.onclick=a,t},gUI.BtnSecondary=function(e,a){var t=document.createElement("button");return t.classList.add("g-btn-default"),t.classList.add("g-btn-secondary"),t.innerHTML=e,t.onclick=a,t},gUI.BtnOutline=function(e,a){var t=document.createElement("button");return t.classList.add("g-btn-default"),t.classList.add("g-btn-outline"),t.innerHTML=e,t.onclick=a,t},gUI.BtnRound=function(e,a){var t=document.createElement("button");return t.classList.add("g-btn-default"),t.classList.add("g-btn-round"),t.innerHTML=e,t.onclick=a,t},gUI.SwitchElement=function(e){var a=gUI.Div(null,["switch"]),t=document.createElement("label");t.classList.add("toggle-control"),a.appendChild(t);var n=document.createElement("input");n.type="checkbox",n.classList.add("toggle-control-input"),e&&(n.checked=!0),t.appendChild(n);n=document.createElement("span");return n.classList.add("control"),t.appendChild(n),a},gUI.AddSidebarOption=function(e=null,a=null,t=null,n=!1,g=!1){var o=gUI.Row(null,["g-sidebar-option"]),i=gUI.Div(null,["g-sidebar-option-icon"]);i.innerHTML=e,o.appendChild(i);i=gUI.Div(null,["g-sidebar-option-label"]);i.innerHTML=a,o.appendChild(i),n&&(g=gUI.SwitchElement(g),o.appendChild(g),g.querySelector("input").onchange=t),gUI.sidebarMenu.appendChild(o),t&&!n&&(o.onclick=t)},gUI.RemoveOnFade=function(e,a){e.classList.add("game-fade-in"),setTimeout(function(){e.classList.remove("game-fade-in"),e.classList.add("game-fade-out"),e.addEventListener("animationend",function(){e.remove()})},a)},game.default={lang:"en",currency:"USD",currencySymbol:"$",darkMode:!0,notificationDelay:2e3,sound:!0,minBet:.1,maxBet:50,betIncrement:.1,canDebt:!0,validate:!0,validateUrl:"process.php",validateOnUpdate:!0,token:"",serverSeed:"",userId:""},game.config={...game.default},game.player={id:"",balance:1e3,wins:0,balance_best:1e3},game.log=[],game.lang=null,game.seed=null,game.random=null,game.formatter=null,game.inputDelay=null,game.bet=game.config.minBet.toFixed(2),game.pot=0,game.drawFrame=null,game.scoreSheet=[[],[],[]],game.Init=function(t,e=null){null!=e&&(game.config={...game.config,...e}),fetch(`lang/${game.config.lang}.json`).then(e=>e.json()).then(e=>{var a;game.lang=e,game.SetupSeed(),game.gameContainer=document.querySelector(t),gUI.Init(game.gameContainer),game.SetupCurrency(),game.InitSounds(),game.InitPlinko(),game.config.validate&&(""==game.config.userId?(a=document.createElement("form"),game.userEl=gUI.Input("text",game._("form.user_id"),null,""),game.userEl.querySelector("input").setAttribute("required",""),a.appendChild(game.userEl),gUI.ShowModal(game._("modal.login.title"),game._("modal.login.content"),[gUI.BtnSecondary("No Thanks",()=>{gUI.HideModal()}),gUI.BtnPrimary("Submit",()=>{a.reportValidity(),a.checkValidity()&&(game.player.id=game.userEl.querySelector("input").value,gUI.HideModal())})]),a.setAttribute("method","get"),a.addEventListener("submit",e=>{e.preventDefault()}),gUI.modalContent.appendChild(a)):game.player.id=game.config.userId)}).catch(()=>{console.error(`Could not load ${game.config.lang}.json.`)})},game._=function(e){return e.split(".").reduce((e,a)=>e[a],game.lang)},game.SetupSeed=function(){var e;e=""==game.config.serverSeed?gHelper.xmur3(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)):gHelper.xmur3(game.config.serverSeed),game.random=gHelper.sfc32(e(),e(),e(),e()),game.random=gHelper.mulberry32(e())},game.SetupCurrency=function(){game.formatter=new Intl.NumberFormat(game.config.currency,{style:"currency",currency:game.config.currency})},game.SetBet=function(e){e=gHelper.Clamp(e,game.config.minBet,game.config.maxBet);e=gHelper.Clamp(parseFloat(e),game.config.minBet,game.player.balance).toFixed(2);gUI.betInput.querySelector("input").value=e,game.bet=e,gUI.betBottom.classList.remove("disabled")},game.MakeBet=function(){game.Charge(game.bet),game.pot+=game.bet,gUI.betTop.classList.add("disabled"),gUI.betCenter.classList.add("disabled"),gUI.betBottom.classList.add("disabled")},game.Pay=function(e){game.player.balance+=e,game.log.push(game.player.balance),gUI.balance.innerText=game.config.currencySymbol+game.player.balance.toFixed(2),gUI.CheckoutNotification(e,"plus")},game.Charge=function(e){game.player.balance-=e,game.log.push(game.player.balance),gUI.balance.innerText=game.config.currencySymbol+game.player.balance.toFixed(2),gUI.CheckoutNotification(e,"minus")},game.Cashout=function(){var e;game.config.validate&&(!game.config.validateOnUpdate||game.player.balance>game.player.balance_best)&&(game.player.balance_best=game.player.balance,""!=game.player.playerName&&""!=game.player.wallet&&((e=new XMLHttpRequest).open("POST",game.config.validateUrl,!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({id:game.player.id,balance:game.player.balance,transactions:game.log,token:game.config.token})),e.onload=function(){console.log("Leaderboard updated!"),console.log(e.responseText)})),game.log=[]},game.sounds={},game.InitSounds=function(){game.sounds.select="audio/select.mp3",game.sounds.win="audio/win.wav",game.sounds.whoosh="audio/whoosh.mp3",game.sounds.popup="audio/popup.mp3",game.sounds.money="audio/money.mp3"},game.PlaySound=function(e){game.config.sound&&((e=new Audio(e)).play(),e.remove())},game.pinCount=16,game.pins=[],game.balls=[],game.winZones=[],game.uiZones=[[],[],[]],game.autoBetting=!1,game.interval=null,game.typeValues=[.5,.28,.12],game.InitPlinko=function(){game.InitMatter(),game.MoveBalls(),game.SetupBoard(game.pinCount),game.InitCollisions()},game.InitMatter=function(){Matter.Engine;var e=Matter.Render,a=Matter.Runner;Matter.Bodies,Matter.Composite;Matter.use("matter-attractors"),game.width=gUI.gameFrame.clientHeight,game.height=gUI.gameFrame.clientHeight,game.cx=game.width/2,game.cy=game.height/2,game.engine=Matter.Engine.create({enableSleeping:!1,positionIterations:12}),game.engine.gravity.y=game.height/1500,console.log(game.engine.gravity.y),game.render=e.create({element:gUI.gameFrame,engine:game.engine,options:{width:game.width,height:game.height,wireframes:!1}}),e.run(game.render),game.runner=a.create(),a.run(game.runner,game.engine),game.uiCanvas=document.createElement("canvas"),game.uiCanvas.id="g-ui-canvas",game.uiCanvas.width=game.width,game.uiCanvas.height=game.height,gUI.gameFrame.appendChild(game.uiCanvas)},game.InitCollisions=function(){Matter.Events.on(game.engine,"collisionStart",function(e){e=e.pairs;"zone"==e[0].bodyA.label&&"ball"==e[0].bodyB.label?game.BallWin(e[0].bodyA,e[0].bodyB):"ball"==e[0].bodyA.label&&"zone"==e[0].bodyB.label&&game.BallWin(e[0].bodyB,e[0].bodyA)})},game.SetupBoard=function(e){switch(game.pins.forEach(function(e){Matter.World.remove(game.engine.world,e)}),game.winZones.forEach(function(e){Matter.World.remove(game.engine.world,e)}),game.pins=[],game.winZones=[],game.uiZones=[[],[],[]],game.pinCount=e,game.odds=[],game.drawFrame&&window.cancelAnimationFrame(game.drawFrame),game.odds=game.CalculateOdds(e),e){case 14:gUI.btn12.classList="g-btn-default g-btn-primary",gUI.btn14.classList="g-btn-default g-btn-secondary",gUI.btn16.classList="g-btn-default g-btn-secondary";break;case 16:gUI.btn12.classList="g-btn-default g-btn-secondary",gUI.btn14.classList="g-btn-default g-btn-primary",gUI.btn16.classList="g-btn-default g-btn-secondary";break;case 18:gUI.btn12.classList="g-btn-default g-btn-secondary",gUI.btn14.classList="g-btn-default g-btn-secondary",gUI.btn16.classList="g-btn-default g-btn-primary"}for(var a,t=game.width/e/1.1,n=game.height/e/1.1,g=game.cx-t,o=game.height/24,i=3;i<=e;i++){for(a=0;a<i;a++)game.CreatePin(g,o,game.width/e/8),g+=t;g=g-i*t-t/2,o+=n}var l=Matter.Bodies.rectangle(t/1.5,game.cy,t,game.height,{isStatic:!0,render:{fillStyle:"transparent"}});Matter.Composite.add(game.engine.world,l);l=Matter.Bodies.rectangle(game.width-t/1.5,game.cy,t,game.height,{isStatic:!0,render:{fillStyle:"transparent"}});Matter.Composite.add(game.engine.world,l),game.ToggleDarkMode(),game.SetupWinZones(e,g,o,t,n)},game.SetupWinZones=function(e,a,t,n,g){var o=game.width/e/1.2,e=game.uiCanvas.getContext("2d");e.font=o/2+"px Arial",e.textAlign="center",e.textBaseline="middle",t-=4;for(var i=a+=n,l=0;l<3;l++){for(var r=0;r<game.pinCount-1;r++){var d=Matter.Bodies.rectangle(a,t,o,o,{isStatic:!0,isSensor:!0,render:{fillStyle:"transparent"}});d.label="zone",d.index=r,game.winZones.push(d),Matter.Composite.add(game.engine.world,d),game.odds[l][r].x=a,game.odds[l][r].y=t,game.uiZones[l].push({x:a,y:t,width:o,height:o,start_x:a,start_y:t,min_size:o,max_size:o+o/10,valueType:l,index:r,bg:game.TypeColor(l),color1:"#000",color2:"#FFF",opacity:0,steps:120,step:0,hit:!1}),a+=n}a=i,t+=g}game.drawFrame=window.requestAnimationFrame(game.DrawUI)},game.DrawUI=function(){var e=game.uiCanvas.getContext("2d");e.font=game.width/game.pinCount/1.2/2+"px Arial",e.textAlign="center",e.textBaseline="middle",e.clearRect(0,0,game.width,game.height);for(var a=0;a<3;a++)for(var t=0;t<game.pinCount-1;t++){var n=game.uiZones[a][t];n.hit?n.width<n.max_size?(n.width+=(n.max_size-n.min_size)/30,n.height+=(n.max_size-n.min_size)/30):n.hit=!1:n.width>n.min_size&&(n.width-=(n.max_size-n.min_size)/30,n.height-=(n.max_size-n.min_size)/30),e.globalAlpha=1,e.fillStyle=n.bg,e.roundRect(n.x-n.width/2,n.y-n.width/2,n.width,n.width,{upperLeft:4,upperRight:4,lowerLeft:4,lowerRight:4},!0,!1),e.fillStyle="black",e.fillText(game.odds[a][t].value,n.x,n.y+1)}game.drawFrame=window.requestAnimationFrame(game.DrawUI)},game.MoveBalls=function(){},game.BallWin=function(e,a){game.uiZones[a.valueType][e.index].hit=!0,game.PlaySound(game.sounds.win);e=game.odds[a.valueType][e.index].value*game.bet;game.Pay(e),Matter.World.remove(game.engine.world,a.anchor),Matter.World.remove(game.engine.world,a),game.balls.splice(game.balls.indexOf(a),1),0==game.balls.length&&(gUI.betPins.classList.remove("disabled"),game.Cashout())},game.CalculateOdds=function(e){for(var e=gHelper.Pascals(e-1),a=e[e.length-1],t=[[],[],[]],n=Math.round(a.length/2)-1,g=0;g<3;g++){for(var o,i=0;i<a.length;i++){switch(g){case 1:o=3<Math.abs(n)?Math.abs(n)*(g+1)*.3:.2*Math.abs(n);break;case 2:o=4<Math.abs(n)?Math.abs(n)*(g+2)*.2:.2*Math.abs(n);break;default:o=.5*Math.abs(n)}t[g].push({rating:a[i],x:0,y:0,multiplier:Math.abs(n),value:o.toFixed(1).replace(/[.,]0$/,"")}),n--}n=Math.round(a.length/2)-1}return t},game.CreatePin=function(e,a,t){t=Matter.Bodies.circle(e,a,t,{isStatic:!0,density:1,restitution:1,friction:0,render:{fillStyle:game.config.darkMode?"#fff":"#000"}});game.pins.push(t),Matter.Composite.add(game.engine.world,t)},game.CreateBall=function(e=0){var a=Math.ceil(game.odds[e].length/2),t=[game.odds[e].slice(0,a),game.odds[e].slice(-a)],n=Math.round(game.random()),a=Math.max.apply(Math,t[n].map(function(e){return e.rating}));randomVal=Math.round(game.random()*a);var a=t[n].reduce((e,a)=>Math.abs(randomVal-a.rating)<Math.abs(randomVal-e.rating)?a:e),g=game.width/game.pinCount/1.1,t=a.x<game.cx?game.cx-g/2:game.cx+g/2,n=game.width/game.pinCount/5,o=Matter.Bodies.circle(t,0,n,{isStatic:!1,restitution:.5,friction:.1,frictionAir:.03,render:{fillStyle:game.TypeColor(e)}});o.label="ball",game.balls.push(o),o.index=game.balls.length-1,o.valueType=e;var i=Matter.Bodies.circle(a.x,o.position.y,3,{isStatic:!0,isSensor:!0,render:{fillStyle:"transparent"},plugin:{attractors:[function(){i.position.y=o.position.y+g;var e={x:1e-7*(i.position.x-o.position.x),y:1e-7*(i.position.y-o.position.y)};Matter.Body.applyForce(i,i.position,Matter.Vector.neg(e)),Matter.Body.applyForce(o,o.position,e)}]}});return o.anchor=i,Matter.Composite.add(game.engine.world,[i,o]),o},game.TypeColor=function(e){switch(e){case 0:return"#03A007";case 1:return"#FF9502";case 2:return"#D33B3B"}},game.StartManual=function(e){gUI.betPins.classList.add("disabled"),game.PlaySound(game.sounds.money),game.MakeBet(),game.CreateBall(e),setTimeout(function(){(game.config.canDebt||game.player.balance>=game.config.minBet)&&(game.SetBet(parseFloat(gUI.betInput.querySelector("input").value).toFixed(2)),gUI.betTop.classList.remove("disabled"),gUI.betCenter.classList.remove("disabled"),gUI.betBottom.classList.remove("disabled"))},2e3)},game.StartAuto=function(){gUI.betPins.classList.add("disabled"),game.PlaySound(game.sounds.money),game.autoBetting=!0,gUI.autobetButton.innerHTML="Stop",gUI.betBottom.classList.remove("disabled"),gUI.autobetButton.onclick={},gUI.autobetButton.addEventListener("click",function(){game.autobetting=!1,gUI.betBottom.classList.add("disabled"),(game.config.canDebt||game.player.balance>=game.config.minBet)&&(game.interval&&clearInterval(game.interval),game.SetBet(parseFloat(gUI.betInput.querySelector("input").value).toFixed(2)),gUI.betTop.classList.remove("disabled"),gUI.betCenter.classList.remove("disabled"),gUI.betBottom.classList.remove("disabled"),gUI.AutoButtons())}),game.interval=setInterval(function(){document.hasFocus()&&(game.MakeBet(),gUI.betBottom.classList.remove("disabled"),game.CreateBall(Math.round(gHelper.RandomRange(0,2))))},2e3)},game.ToggleDarkMode=function(){for(let e=0;e<game.pins.length;e++)game.pins[e].render.fillStyle=game.config.darkMode?"#fff":"#757575"};